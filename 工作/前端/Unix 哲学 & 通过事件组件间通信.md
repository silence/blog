### Reference: [Unix 哲学与 Node.js](https://github.com/livoras/blog/issues/2)

> 原来一直以来那些编码中所用到的概念其实很多都源于Unix当中古老的设计。JS中的事件、Node.js中的Stream、多线程（进程）、管道、socket等等，都一一可以在这些古老的设计中找到源头。虽然没有非常深入了解到其中深奥的机制，但是带给我的感觉整个世界就像《三体》里面的三维生物在二维平面展开，很多细节都清晰明了。

>本文的作者[isz](http://blog.izs.me/)是[npm](https://github.com/npm/npm)（Node.js包管理器）的主要代码贡献者，在他的文章中，可以窥见Unix哲学对Node.js设计，文化所产生的影响。

> 关于Unix哲学的最佳阐述

> 这就是Unix的哲学：
>
> 写只做一件事并且把这件事做好的程序。
>
> 写能组合在一起运作的程序。
>
> 写能处理文本流的程序，因为文本流是通用的接口。

> (i) 每个程序只做好一件事情。当需要完成新的任务的时候，写一个新的程序而不是原有程序上添加新功能。
>
> (ii) 让每一个程序的输出可以成为另外一个程序的输入，甚至是未知的程序的输入。不要在输入中混杂着无用的信息。避免严格按列排列二进制的输入格式。不要依赖交互式输入。
>
> (iii) 在设计和编写软件，甚至是操作系统的时候，要尽快地尝试，最好是在几个星期之内就完成。要毫无顾虑地删掉笨拙的地方和重写它们。（译注：深有体会，绝B认同。）
>
> (iv) 使用工具而不是蹩脚的编码来减轻编程任务，即使你知道你最后还是不得不自己来构建这些工具或者要放弃它们。

>1. 精小就是优雅。
>2. 让每个程序只做好一件事情。
>3. 尽快地完成原型。
>4. 可移植性高于效率。
>5. 用纯文本来存放数据。
>6. 使用软件来加强你的优势。
>7. 使用Shell脚本来提高利用率和可移植性。
>8. 不要迷恋界面。
>9. 让每一个程序都成为过滤器。

所以就从 JavaScript 的角度来说，我会说一下我是怎么表述 Unix 哲学的。哎～可惜我不是 McIlroy，我也没有时间和能力去把它写得更精简，大家就将就一下吧：

> 写只做好一件事的模块。写新的模块而不是增加旧的模块的复杂性。
>
> 写鼓励组合而不是鼓励扩展的模块。
>
> 写能够处理数据流的模块，因为它是通用的接口。
>
> 写对数据来源和去向都无知的模块。
>
> 写某块来解决你知道的问题，那么你就可以知道哪些问题你是不知道的。
>
> 写小的模块。迅速地迭代。无情地重构。勇敢地重写。
>
> 迅速地写模块来满足你的需求，写几个测试来合乎规范。避免臃肿的文档。为你 fix 掉的每个 bug 写测试。
>
> 能工作优于完美
>
> 功能专注优于功能丰富
>
> 兼容性优于纯粹性
>
> 简单优于任何东西

>即便这样，如果我们把让我们程序的单元保持精小，加以简单通用的接口，我们就可以把所有零散的部件组合成一个高品质的齿轮，那么在我们滚动的时候，可以轻松自在地把笨拙的部分换出去。

> 根据这些原则来开发的软件，会更加容易地被分享，重用，重改和维护。

### Reference [一种 SPA (单页面应用)架构](https://github.com/livoras/blog/issues/3)

> 组件之间的通信
>
> 怎么可以做到鼠标放到评论和回复的用户头像上显示名片呢？这其实牵涉到组件之间是如何进行通信的问题。
>
> 最佳的方式就是使用事件机制，所有组件之间可以通过一个叫 `eventbus` 通用组件进行信息的交互。所以，要做到上述功能：
>
> 1. User-info-card 可以在 eventbus 监听一个 `user-info-card:show` 的事件。
> 2. 当鼠标放到 comment 和 reply 组件的头像上的时候，组件可以使用 eventbus 触发 `user-info-card:show` 事件。
>
> User-info-card:
>
> ```javascript
> var eventbus = require('eventbus')
> eventbus.on('user-info-card:show', function(user) {
>   // 显示用户名片
> })
> ```
>
> Comment or reply:
>
> ```javascript
> var eventbus = require('eventbus')
> $avatar.on('mouseover', function(event) {
>   eventbus.emit('user-info-card:show', userData)
> })
> ```
>
> Components 之间用事件进行通信的优势在于：
>
> 1. **组件之间没有强的依赖，组件之间被解耦**
> 2. **组件之间可以单独开发、单独测试。数据和事件都可以简单的进行伪造进行测试 (mocking)。**
>
> 总结：components 之间有嵌套和组合的关系，构成 components tree; components 之间通过事件进行信息、数据的交换。

> **面试的时候要引导话题到你能熟知的领域并且尽量停留，那是你能侃下去的资本。**



